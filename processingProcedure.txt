
p-eriscope
d-irect
t-hursday09102025_slowacceleration_periscope

f-riday24102025PBSasperiscope
f-riday24102025


#get the file list of all fringes images:
python3 getFileList.py D:\Stalin\FotosFranjasProyecto\thursday09102025_slowacceleration_periscope D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Files.json

#get segments of continuous measurements:
python3 getSegments.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Files.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Segments.json


#get samples (pairs of continuous related images):
python3 getSamples.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Segments.json  D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamples.json

#get first 60 (ordered by magnitude) Fast Fourier Transform (FFT) parameters:
python3 getFFT.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamples.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamplesFFT.json



#get time periods:
python3 getTimePeriod.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamplesFFT.json  D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentTimePeriod.json

#get both period and phase from  every ff available:
python3 getPeriodPhase.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentTimePeriod.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamplesPeriodPhase.json

#get first of the periods (as it is the bigger one):
python3 getFirstPeriod.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamplesPeriodPhase.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamplesFirstPeriod.json

#show periods in the samples:
python3 getLookedPeriod.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamplesFirstPeriod.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamplesPeriodLooked.json



#get the definitive period in every sample, null otherwise: 80, 107
python3 getDefinitivePeriod.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamplesPeriodLooked.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamplesDefinitivePeriod.json

#get Phase shift for each sample:
python3 getPhaseShift.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamplesDefinitivePeriod.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamplesPhaseShift.json 

#remove file info:
python3 removeFileInfo.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SegmentSamplesPhaseShift.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-NoFileInfo.json 


#remove incomplete data points:
python3 removeNoDataPoints.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-NoFileInfo.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-ValidDataPoints.json 

#remove slow points, as they are somehow wrong (speed can not change too fast from one sample to the next):
python3 removeSlowPoints.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-ValidDataPoints.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-FastDataPoints.json 4.5:7.5

#remove incomplete data points:
python3 removeUnusedData.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-FastDataPoints.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Cleaned.json 

python3 getPlainData.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Cleaned.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-PlainData.json




python3 showXYData.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected.json  timestamp fixedPhase:mobilePhase 12000

----------------------------------------------------------------------------------------------------------------------------
Unwrapping recipe:
File: D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-PlainData.json

python3 unwrap.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-PlainData.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-unwrapped.json fixedPhase

#correct fixedPhase
python3 localPhaseCorrection.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-unwrapped.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected.json fixedPhase fixedPhase 0.2 0.99 16 1

#unwrap mobilePhase synchronized to fixedPhase:
python3 syncUnwrap.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-PlainData.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-unwrapped2.json fixedPhase mobilePhase

#local phase correction of mobilePhase using fixedPhase as a reference:
python3 localPhaseCorrection.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-unwrapped2.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected2.json fixedPhase mobilePhase 0.2 0.99 16 1

#Here the curves exhibit excellent coordination, except in some areas where mobilePhase is out of its own curve. We can see this by getting deltaPhase and plotting:
python3 getDeltaPhase.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected2.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-DeltaPhase2.json

python3 showXYData.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-DeltaPhase2.json  timestamp mobilePhase:deltaPhase 12000

#correct mobilePhase relative to it self:
python3 localPhaseCorrection.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected2.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected3.json mobilePhase mobilePhase 1111 1 16 2

python3 getDeltaPhase.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected3.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-DeltaPhase3.json

python3 showXYData.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-DeltaPhase3.json  timestamp mobilePhase:deltaPhase 12000

#here DeltaPhase3 deltaPhase is worse than DeltaPhase2, so the correction made things worse. Retry with different N does not help.
#So, we use DeltaPhase2, and process from here to get a better signal:

python3 localPhaseCorrection.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-DeltaPhase2.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-DeltaPhase2Corrected.json deltaPhase deltaPhase 1 16 2

python3 showXYData.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-DeltaPhase2Corrected.json  timestamp deltaPhase

#This results in worse data distribution, so custom range correction is needed:
python3 localPhaseCorrection.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-DeltaPhase2.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-DeltaPhase2Corrected.json deltaPhase deltaPhase 1 16 2 1760034404:1760034617





----------------------------------------------------------------------------------------------------------------------------




python3 localPhaseCorrection.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected3.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected35.json mobilePhase fixedPhase 0.2 1 16 1

python3 localPhaseCorrection.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected3.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected4.json fixedPhase mobilePhase 0.2 1 16 1

python3 localPhaseCorrection.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected4.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-localPhaseCorrected5.json mobilePhase mobilePhase 0.2 1 16 1





input_file = (sys.argv[1])
output_file = (sys.argv[2])
ykey = (sys.argv[3])
ykey = ykey.split(':')
phaseMaxDifference = float(sys.argv[4])
distanceImprovementFactor = float(sys.argv[5])
N_lastPoints = int(sys.argv[6])
iterations = int(sys.argv[7])





python3 softener.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-DeltaPhase.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-PhaseSoften.json 6:7:3

python3 getContinuousSections.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-PhaseSoften.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Continuous.json

python3 getContinuousPhaseCorrection.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Continuous.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-PhaseCorrection.json 

python3 normalizeSections.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-PhaseCorrection.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SectionsNormalized.json

python3 getHzSections.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SectionsNormalized.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-HzSections.json

python3 sectionSoftener.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-HzSections.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-HzSectionsSoftened.json 20

python3 showSections.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-HzSections.json  original 0:0 . 0:0 hz










python3 getLinearRegression.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-SectionsNormalized.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Regression.json


python3 getNoise.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-PhaseSoften.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Noise.json fixedPhase:mobilePhase





python3 showHistogram.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Noise.json mobilePhase

python3 showXYData.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-unwrapped.json timestamp mobilePhase:fixedPhase

python3 getDeltaTime.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Segments.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-DeltaTime.json

python3 showHistogram.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-DeltaTime.json deltatime 0.14:0.2





----------------

#python3 get SectionData.py D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-Continuous.json D:\Stalin\FotosFranjasProyecto\results\thursday09102025_slowacceleration_periscope-ContinuousData.json



